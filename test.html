<!doctype html>
<html lang="es"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Test - TOYfeliz50xavy</title>
<style>body{background:#0b0b0b;color:#fff;font-family:monospace;display:flex;align-items:center;justify-content:center;height:100vh;margin:0} .box{width:520px;padding:20px;background:#111;border-radius:8px} button{margin:8px;padding:10px 14px;border-radius:6px;border:none;background:#236;color:#fff;cursor:pointer} #log{height:120px;overflow:auto;background:#000;padding:8px;margin-top:10px;border-radius:6px}</style>
</head><body>
<div class="box">
  <h3>Test BroadcastChannel</h3>
  <div><button id="btnPlay">PLAYING</button><button id="btnWarn">WARNING</button><button id="btnErr">ERROR</button></div>
  <div id="log"></div>
</div>
<script>
const channel = new BroadcastChannel('strix_channel');
function log(msg){ const el=document.getElementById('log'); el.prepend(document.createElement('div')).textContent=new Date().toLocaleTimeString()+' '+msg; }
document.getElementById('btnPlay').addEventListener('click', ()=>{ channel.postMessage({status:'playing', currentMoment:'test'}); log('sent PLAYING'); });
document.getElementById('btnWarn').addEventListener('click', ()=>{ channel.postMessage({status:'warning', info:'buffer low'}); log('sent WARNING'); });
document.getElementById('btnErr').addEventListener('click', ()=>{ channel.postMessage({status:'error', info:'video missing'}); log('sent ERROR'); });
</script>
</body></html>
